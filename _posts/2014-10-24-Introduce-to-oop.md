---
layout: post
keywords: blog
description: blog
title: "FPoCS-面向对象引论"
categories: [Book]
tags: [Archive]
group: archive
icon: file-o
---



我在这里假设阅读本书的读者都已经具有相当的编程语言基础：大多数都或多或少理解了C语言，或者其他类似的编程语言。尽管在学习这些基础语言的时候，教科书都会强调它“几乎能做任何事情”，但你或许觉得运用它什么也做不了。那么现在问题来了，从你熟悉的基础小程序，到真正可以运用的工程性质的软件，到底差些什么呢？<br />
一个显而易见的差距是，程序中会需要更多的函数。比如在C语言中，你可能需要一个函数来实现用户登录，比如login()。但到了大型工程中，登录功能或许会被细分为很多个模块，为不同的情景都要实现一个登录函数，这样就有了loginForAdmin(), loginForGuest()等等等等。这还不打紧，但是如果login()需要几个不同实现，那么与之类似的logoff(), sayHello()...呢？<br />
函数数量从几个变成了成千上万个，这的确麻烦。但是你忽然灵机一动，外国人叫John和Micheal满大街都是，中文的伟哥、娟姐一呼百应，但是它们都没有被混淆，为什么，因为他们有姓氏啊！给这些函数加上姓氏不就得了吗？假设我负责工程的外网模块，那么我写的所有函数都跟着我姓钟，中间加上个句点，免得计算机读不懂。形式就像是这样的:

```
    (Ps) Zhong.login(){}
```
<br />
这真是个了不起的进步！钟姓下面囊括了一个方面的好几十个函数，总体的上千个函数一下子结构分明了！但是这还不够啊，为什么我们只允许让函数有姓氏，而不让一般的变量有姓氏呢？这充满着歧视不说，若是存在读写某些模块特有数据的需求，不提供这种方法简直是反人类啊。于是我们的姓氏里又应该添加下面这些东西：

```
    (Ps) String Zhong.description;
         Int Zhong.numOfAge;
```
<br />
我们目前的发明简直太摧残夺目，连隔壁的老王都感到非常有趣。但是他提出一个问题却难倒了我们：他觉得我们现在的工作非常好，他想拿一份过去自己用，又添加自己的新功能。难道我们直接让他改我们姓氏里的代码吗？这样不好。这时候创意又有了，既然我们写的代码叫姓氏，运用一种方法，“遗传”给他好了。怎么遗传呢，干脆就用冒号表示吧，表示前面的东西是从后面冒出来的。怎么表明这个是一个姓氏而不是其他的程序内容呢？我们可以在前面加一个family表示。现在看起来整体就像这样子：

```
    (Ps) family Wang : Zhong {
             //默认已包含所有来自Zhong的代码
             Int somethingElse; //Wang里面多出来的东西
         }
```
<br />
到这里我们就基本建立起面向对象的模型了，对比一下，下面是C++的类声明。

```
    (C+) class GoodStu : public Student
         {
         public:
             int GPA = 4.0;
             void studyHard();
         }
```
<br />
忽略掉public这种形容词——他们叫做访问修饰符（access modifiers），以后会介绍到，我们会发现C++的类（Class）和我们之前定义的姓氏（family）是何其的相似！这还不过瘾，我们再来看看Swift的类申明格式：

```
    (Sw) class Bicycle: Vehicle {
	    var numberOfWheels:Int
            init() {
                super.init()
                numberOfWheels = 2
            }
         } 
```
<br />
尽管Swift的变量声明方法有点奇怪—— var表示“我要声明变量”的一声呐喊，冒号后的Int才是变量的类型——但这更符合我们之前的规则，冒号表示继承（Inherit），刚刚我们还把它叫做“遗传”。不过这里有一个init()或许把你搞糊涂了，但是把它当作一个函数就很好理解了，super表示的是父类（继承自的类）。<br />
不过像归像，我们建立的体系和标准之间还是有差别的。从命名上看，我们的体系运用姓来命名，这会造成一些问题：一个程序员可能会负责多个功能模块，用程序员来命名还是不科学；如果隔壁老王继续我的工作，难道用他的姓继承我的姓，这不是在骂他是我儿子吗？所以这也不利于开发组的安定团结。相比之下，用一个模块的名字来命名“类”就科学多了。